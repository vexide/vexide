[package]
name = "vexide"
version = "0.7.0"
edition = "2021"
description = "async/await powered Rust library for VEX V5 Brains"
keywords = ["Robotics", "bindings", "vex", "v5"]
categories = ["os", "api-bindings", "no-std", "science::robotics"]
license = "MIT"
repository = "https://github.com/vexide/vexide"
readme = "../../README.md"
authors = [
    "vexide",
    "Gavin Niederman <gavinniederman@gmail.com>",
    "doinkythederp <doinkythederp@icloud.com>",
    "Tropical",
]
rust-version = "1.75.0"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
vexide-devices = { workspace = true, optional = true }
vexide-runtime = { workspace = true, optional = true }
vexide-startup = { workspace = true, optional = true }
vexide-macro = { workspace = true, optional = true }
vex-sdk = { workspace = true }

[features]
default = [
    "rt",
    "devices",
    "startup",
    "macro",
    "backtraces",
    "allocator",
    "vex-sdk-jumptable",
]

macro = ["dep:vexide-macro", "startup", "rt", "devices"]

rt = ["dep:vexide-runtime"]
backtraces = ["rt", "vexide-runtime/backtraces"]

startup = ["dep:vexide-startup"]
allocator = ["startup", "vexide-startup/allocator"]
vex-sdk-jumptable = ["startup", "vexide-startup/vex-sdk-jumptable"]
vex-sdk-build = ["startup", "vexide-startup/vex-sdk-build"]

devices = ["dep:vexide-devices"]
dangerous_motor_tuning = ["devices", "vexide-devices/dangerous_motor_tuning"]
smart_leds_trait = ["devices", "vexide-devices/smart_leds_trait"]

[package.metadata.docs.rs]
targets = ["armv7a-vex-v5"]
cargo-args=[
    "-Zbuild-std=core,alloc,compiler_builtins",
    "-Zbuild-std-features=compiler-builtins-mem"
]
